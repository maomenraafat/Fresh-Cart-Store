@if (appiError) {
<h2 class="text-5xl text-main mx-auto text-center capitalize">
  failed to get this product
</h2>
}@else {
<div class="flex justify-center items-center mb-10 gap-x-7 p-10">
  <div class="w-[35%]">
    <owl-carousel-o [options]="customOptions" class="m-8">
      @for (src of productDetails.images; track $index) {
      <ng-template carouselSlide [id]="src">
        <img [src]="src" [alt]="src" [title]="src" />
      </ng-template>
      }
    </owl-carousel-o>
  </div>
  <div class="w-[60%]">
    <h1 class="text-4xl mb3">{{ productDetails.title }}</h1>
    <p class="mb-8">{{ productDetails.description }}</p>
    <span>{{ productDetails.category.name }}</span>
    <div class="flex justify-between mb-3">
      <p>{{ productDetails.price }}</p>
      <p>
        <i class="fa fa-star text-[#ffc908]"></i>
        {{ productDetails.ratingsAverage }}
      </p>
    </div>
    <button
      (click)="addToCart(productDetails.id)"
      class="text-white p-2 rounded-md w-[90%] mx-auto block mt-3 bg-main transition-all duration-500 group-hover:opacity-100 translate-y-[100%] group-hover:translate-y-0 overflow-hidden"
    >
      @if (isLoading) {
      <i class="fa fa-spin fa-spinner"></i>
      }@else{Add to Cart}
    </button>
  </div>
</div>

<h2 #related class="text-4xl font-bold my-7">Related Product</h2>

@defer (on viewport (related) ; on timer(10000ms) ) {
<app-related-product [relatedProducts]="relatedProducts"></app-related-product>
} }
