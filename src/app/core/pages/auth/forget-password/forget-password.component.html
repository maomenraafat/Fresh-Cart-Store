<form
  [formGroup]="isEmailSend ? verifyCodeForm : forgetPasswordForm"
  (ngSubmit)="isEmailSend ? verify() : forgetPassword()"
  class="max-w-4xl rounded-xl mx-auto p-4 shadow-lg my-10"
>
  <h1 class="text-3xl mb-4">Forget Password</h1>
  @if(apiErrorMesage){
  <div
    class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
    role="alert"
  >
    {{ apiErrorMesage }}
  </div>
  } @if (!isEmailSend) {
  <div class="relative z-0 w-full mb-5 group">
    @let emailControl = forgetPasswordForm.get("email");

    <app-custom-input
      formControlName="email"
      [type]="'text'"
      placeholder=" "
      class="peer"
    >
      <label
        for="floating_email"
        class="label label-style peer-focus:font-medium peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-main peer-focus:dark:text-main peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >User Email :</label
      >
    </app-custom-input>
    <app-error-message [inputControl]="emailControl"></app-error-message>
  </div>
  }@else{
  <div class="relative z-0 w-full mb-5 group">
    @let resetCodeControl = verifyCodeForm.get("resetCode");

    <app-custom-input
      formControlName="resetCode"
      [type]="'text'"
      placeholder=" "
      class="peer"
    >
      <label
        for="floating_resetCode"
        class="label label-style peer-focus:font-medium peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-main peer-focus:dark:text-main peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >
        Enter Reset Code :</label
      >
    </app-custom-input>
    <app-error-message [inputControl]="resetCodeControl"></app-error-message>
  </div>
  }
  <div class="flex justify-between items-center">
    <button type="submit" class="main-btn" [disabled]="isCallingApi">
      @if (isCallingApi) {
      <i class="fa fa-spin fa-spinner"></i>
      }@else{ {{ isEmailSend ? "Send Code" : "Send Mail" }}
      }
    </button>
  </div>
</form>

