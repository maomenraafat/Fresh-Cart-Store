<form
  [formGroup]="loginForm"
  (ngSubmit)="login()"
  class="max-w-4xl rounded-xl mx-auto p-4 shadow-lg my-10"
>
  <h1 class="text-3xl mb-4">Login Form :</h1>
  @if(apiErrorMesage){
  <div
    class="flex p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"
    role="alert"
  >
    {{ apiErrorMesage }}
  </div>
  }

  <div class="relative z-0 w-full mb-5 group">
    @let emailControl = loginForm.get("email");

    <app-custom-input
      formControlName="email"
      [type]="'email'"
      [id]="floating_email"
      placeholder=" "
      class="peer"
    >
      <label
        for="floating_email"
        class="label label-style peer-focus:font-medium peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-main peer-focus:dark:text-main peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >User Email :</label
      >
    </app-custom-input>
    <!-- <input
      type="email"
      formControlName="email"
      name="floating_email"
      id="floating_email"
      class="input-style peer"
      placeholder=" "
      required
    /> -->

    <app-error-message [inputControl]="emailControl"></app-error-message>
  </div>
  <div class="relative z-0 w-full mb-5 group">
    @let passwordControl = loginForm.get("password");
    <app-custom-input
      formControlName="password"
      [type]="!toggleInput ? 'password' : 'text'"
      [id]="floating_password"
    >
      <label
        for="floating_password"
        class="label label-style peer-focus:font-medium peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-main peer-focus:dark:text-main peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
        >Password :</label
      >
    </app-custom-input>

    <!-- <input
      [type]="!toggleInput ? 'password' : 'text'"
      formControlName="password"
      name="floating_password"
      id="floating_password"
      class="input-style peer"
      placeholder=" "
      required
    /> -->
    <!-- <label
      for="floating_password"
      class="label label-style peer-focus:font-medium peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-main peer-focus:dark:text-main peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
      >Password :</label
    > -->
    <span class="absolute top-[10%] right-0" (click)="togglePassword()">
      @if (!toggleInput) { <i class="fa fa-eye"></i>} @else {<i
        class="fa fa-eye-slash"
      ></i
      >}
    </span>
    <app-error-message [inputControl]="passwordControl"></app-error-message>
  </div>

  <div class="flex justify-between items-center gap-x-4 md:gap-x-0">
    <button type="submit" class="max-w-[50%] main-btn">
      @if (isCallingApi) {
      <i class="fa fa-spin fa-spinner"></i>
      }@else{ Login }
    </button>
    <a
      class="capitalize text-main inline-block"
      [routerLink]="['/auth/forget-password']"
      >forget password ?</a
    >
  </div>
</form>
